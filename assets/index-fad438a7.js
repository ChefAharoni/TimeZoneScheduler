(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))L(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const v of a.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&L(v)}).observe(document,{childList:!0,subtree:!0});function s(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function L(u){if(u.ep)return;u.ep=!0;const a=s(u);fetch(u.href,a)}})();(()=>{const{DateTime:f}=luxon,r=document.getElementById("base-tz"),s=document.getElementById("target-tz"),L=document.getElementById("timezone-search"),u=document.getElementById("target-tz-selected"),a=document.getElementById("date"),v=document.getElementById("time"),h=document.getElementById("end-date"),z=document.getElementById("end-time"),Y=document.getElementById("event-name"),J=document.getElementById("event-location"),K=document.getElementById("event-details"),k=document.getElementById("event-duration"),de=document.getElementById("custom-duration-group"),ce=document.getElementById("custom-duration"),Q=document.getElementById("invitees-container"),se=document.getElementById("add-invitee"),le=document.getElementById("generate"),_=document.getElementById("all-day-event"),W=document.getElementById("timed-event-fields"),X=document.getElementById("duration-fields"),ee=document.getElementById("endtime-fields"),P=document.getElementsByName("end-type"),M=document.getElementById("base-tz-search");document.getElementById("tz-table-container");const O=document.getElementById("tz-table"),w=O?O.querySelector("tbody"):null;document.getElementById("origin-tz-header"),document.getElementById("target-tz-header");const re=document.getElementById("additional-timezones"),ue=document.getElementById("add-timezone");a.valueAsDate=new Date,h&&(h.valueAsDate=new Date);const q=["Asia/Tel_Aviv","Asia/Jerusalem","America/New_York","America/Los_Angeles","America/Chicago","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Asia/Singapore","Australia/Sydney","Pacific/Auckland","Asia/Dubai","Asia/Kolkata","Europe/Moscow","America/Sao_Paulo","Africa/Johannesburg","Asia/Bangkok","Asia/Seoul"];function me(e){try{return f.now().setZone(e).toFormat("ZZZZ")}catch{return"Unknown"}}function D(e){const t=me(e);return`${e.replace(/_/g," ")} (${t})`}function ye(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e)return e}catch(e){console.warn("Browser timezone detection failed:",e)}try{const t=-new Date().getTimezoneOffset(),n=Math.floor(Math.abs(t)/60),o=Math.abs(t)%60,l=`GMT${t>=0?"+":"-"}${n.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`,d=q.find(c=>{try{return f.now().setZone(c).toFormat("ZZZZ")===l}catch{return!1}});if(d)return d}catch(e){console.warn("System time fallback failed:",e)}return"America/New_York"}let S=[];try{S=Intl.supportedValuesOf("timeZone")}catch(e){console.warn("Failed to get supported timezones:",e),S=q}S=[...new Set([...q,...S])],S.sort();function pe(){const e=ye();S.forEach(t=>{const n=document.createElement("option"),o=document.createElement("option");n.value=o.value=t,n.textContent=o.textContent=D(t),n.setAttribute("data-search",`${t.toLowerCase()} ${t.replace(/_/g," ").toLowerCase()}`),o.setAttribute("data-search",`${t.toLowerCase()} ${t.replace(/_/g," ").toLowerCase()}`),r.appendChild(n),s.appendChild(o)}),r.value=e,s.value="UTC",B(),p()}function B(){const e=s.options[s.selectedIndex];e?u.textContent=`Selected: ${e.textContent}`:u.textContent=""}s.addEventListener("change",()=>{ne(),B(),p()}),s.addEventListener("click",()=>{ne(),B(),p()}),s.addEventListener("keyup",()=>{B(),p()}),L.addEventListener("input",e=>{fe(e.target.value);const t=Array.from(s.options).find(n=>n.style.display!=="none");t&&(s.value=t.value,B())});function fe(e){const t=s.options;e=e.toLowerCase().replace(/ /g,"_");for(let n=0;n<t.length;n++){const o=t[n],i=o.getAttribute("data-search"),l=o.textContent.toLowerCase(),d=i.includes(e.replace(/_/g," "))||i.includes(e)||l.includes(e.replace(/_/g," "))||l.includes(e);o.style.display=d?"":"none"}}_.addEventListener("change",function(){_.checked?W.setAttribute("hidden",""):W.removeAttribute("hidden")});function $(){Array.from(P).find(t=>t.checked).value==="duration"?(X.removeAttribute("hidden"),ee.setAttribute("hidden","")):(X.setAttribute("hidden",""),ee.removeAttribute("hidden"),a.value&&(!h.value||h.value<a.value)&&(h.value=a.value))}P.forEach(e=>e.addEventListener("change",$)),$();function U(){if(!a.value||!v.value||!z.value)return;const e=f.fromFormat(`${a.value} ${v.value}`,"yyyy-MM-dd HH:mm");if(f.fromFormat(`${h.value} ${z.value}`,"yyyy-MM-dd HH:mm")<e){const n=e.plus({days:1}).toFormat("yyyy-MM-dd");h.value=n}}z&&h&&(v.addEventListener("change",U),a.addEventListener("change",function(){h.value=a.value,U()}),z.addEventListener("change",U)),k.addEventListener("change",()=>{de.style.display=k.value==="custom"?"block":"none"});function ve(){const e=document.createElement("div");e.className="invitee-row";const t=document.createElement("input");t.type="email",t.className="invitee-email",t.placeholder="email@example.com";const n=document.createElement("button");n.type="button",n.className="remove-invitee",n.textContent="×",n.style.display="block",n.addEventListener("click",()=>{e.remove(),te()}),e.appendChild(t),e.appendChild(n),Q.appendChild(e),te()}function te(){const e=Q.querySelectorAll(".invitee-row");e.forEach(t=>{const n=t.querySelector(".remove-invitee");n.style.display=e.length>1?"block":"none"})}se.addEventListener("click",ve);function Ee(){if(_.checked){const m=Y.value,b=J.value,Z=K.value;r.value,s.value;const ie=a.value,Ie=Array.from(document.querySelectorAll(".invitee-email")).map(F=>F.value).filter(F=>F.trim()!==""),Le=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//TimeSync//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`DTSTART;VALUE=DATE:${ie.replace(/-/g,"")}`,`DTEND;VALUE=DATE:${ie.replace(/-/g,"")}`,`SUMMARY:${m}`,`LOCATION:${b}`,`DESCRIPTION:${Z}`,...Ie.map(F=>`ATTENDEE;RSVP=TRUE;ROLE=REQ-PARTICIPANT:mailto:${F}`),"END:VEVENT","END:VCALENDAR"].join(`\r
`),Ce=new Blob([Le],{type:"text/calendar;charset=utf-8"}),H=document.createElement("a");H.href=URL.createObjectURL(Ce),H.download=`${m.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,document.body.appendChild(H),H.click(),document.body.removeChild(H);return}const e=Y.value,t=J.value,n=K.value,o=r.value,i=s.value,l=a.value,d=v.value;let c=f.fromFormat(`${l} ${d}`,"yyyy-MM-dd HH:mm",{zone:o}),E;if(Array.from(P).find(m=>m.checked).value==="duration"){let m=parseInt(k.value);k.value==="custom"&&(m=parseInt(ce.value)),E=c.plus({minutes:m}),E.toFormat("yyyy-MM-dd")}else{const m=h.value||l,b=z.value||d;E=f.fromFormat(`${m} ${b}`,"yyyy-MM-dd HH:mm",{zone:o}),E<c&&(E=c.plus({days:1}),E.toFormat("yyyy-MM-dd"))}const y=c.setZone(i),g=E.setZone(i),I=Array.from(document.querySelectorAll(".invitee-email")).map(m=>m.value).filter(m=>m.trim()!==""),ae=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//TimeSync//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`DTSTART;TZID=${i}:${y.toFormat("yyyyMMdd'T'HHmmss")}`,`DTEND;TZID=${i}:${g.toFormat("yyyyMMdd'T'HHmmss")}`,`SUMMARY:${e}`,`LOCATION:${t}`,`DESCRIPTION:${n}`,...I.map(m=>`ATTENDEE;RSVP=TRUE;ROLE=REQ-PARTICIPANT:mailto:${m}`),"END:VEVENT","END:VCALENDAR"].join(`\r
`),V=new Blob([ae],{type:"text/calendar;charset=utf-8"}),C=document.createElement("a");C.href=URL.createObjectURL(V),C.download=`${e.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,document.body.appendChild(C),C.click(),document.body.removeChild(C)}pe(),le.addEventListener("click",Ee),$();function ge(e){const t=r.options;e=e.toLowerCase().replace(/ /g,"_");for(let n=0;n<t.length;n++){const o=t[n],i=o.getAttribute("data-search"),l=o.textContent.toLowerCase(),d=i.includes(e.replace(/_/g," "))||i.includes(e)||l.includes(e.replace(/_/g," "))||l.includes(e);o.style.display=d?"":"none"}}M.addEventListener("input",e=>{ge(e.target.value);const t=Array.from(r.options).find(n=>n.style.display!=="none");t&&(r.value=t.value)}),r.addEventListener("change",function(){M.value="",M.blur()}),r.addEventListener("click",function(){M.value="",M.blur()}),r.addEventListener("keyup",function(e){(e.key==="Enter"||e.key==="Tab")&&(M.value="",M.blur())});function G(e){e?(s.size=5,s.style.display=""):(s.size=1,s.style.display="")}L.addEventListener("focus",()=>G(!0)),L.addEventListener("input",()=>G(!0));function ne(){G(!1),L.value="",L.blur()}function p(){if(!w)return;w.innerHTML="";const e=r.value,t=s.value,n=Array.from(document.querySelectorAll(".timezone-select")).map(y=>y.value);let o=a.value;/^\d{4}-\d{2}-\d{2}$/.test(o)||(o=f.now().toFormat("yyyy-MM-dd"));const i=document.createElement("tr"),l=document.createElement("th");l.textContent=D(e),i.appendChild(l);const d=document.createElement("th");d.textContent=D(t),i.appendChild(d),n.forEach(y=>{const g=document.createElement("th");g.textContent=D(y),i.appendChild(g)}),O.querySelector("thead").innerHTML="",O.querySelector("thead").appendChild(i);let c=f.fromFormat(`${o} 00:00`,"yyyy-MM-dd HH:mm",{zone:e});c.isValid||(c=f.now().setZone(e).startOf("day"));let E=-1;if(v.value){const y=f.fromFormat(`${o} ${v.value}`,"yyyy-MM-dd HH:mm",{zone:e});if(y.isValid){const g=y.diff(c,"minutes").minutes;E=Math.round(g/15)}}const j=document.createDocumentFragment();for(let y=0;y<96;y++){const g=c.plus({minutes:15*y}),I=document.createElement("tr");I.dataset.index=y,E!==-1&&y===E&&I.classList.add("selected");const V=document.createElement("td");V.textContent=g.toFormat("HH:mm"),I.appendChild(V);const C=document.createElement("td");C.textContent=g.setZone(t).toFormat("HH:mm"),I.appendChild(C),n.forEach(b=>{const Z=document.createElement("td");Z.textContent=g.setZone(b).toFormat("HH:mm"),I.appendChild(Z)});const m=()=>{x=y,R=y,v.value=g.toFormat("HH:mm"),a.value=g.toFormat("yyyy-MM-dd");const b=g.plus({minutes:15});z.value=b.toFormat("HH:mm"),h.value=b.toFormat("yyyy-MM-dd"),document.querySelector('input[name="end-type"][value="endtime"]').checked=!0,$(),p()};I.addEventListener("click",m),j.appendChild(I)}w.appendChild(j)}[r,s,a].forEach(e=>{e&&e.addEventListener("change",p)}),v&&v.addEventListener("change",p),r.addEventListener("change",p),s.addEventListener("change",p),a.addEventListener("change",p);let T=null,A=null,N=!1,x=null,R=null;function oe(){Array.from(w.children).forEach(e=>{const t=parseInt(e.dataset.index,10),n=N&&T!==null&&A!==null&&t>=Math.min(T,A)&&t<=Math.max(T,A),o=x!==null&&R!==null&&t>=x&&t<=R;e.classList.toggle("range-selected",n||o)})}function he(){if(T===null||A===null)return;x=Math.min(T,A),R=Math.max(T,A);const e=r.value;let t=a.value;/^\d{4}-\d{2}-\d{2}$/.test(t)||(t=f.now().toFormat("yyyy-MM-dd"));let n=f.fromFormat(`${t} 00:00`,"yyyy-MM-dd HH:mm",{zone:e});n.isValid||(n=f.now().setZone(e).startOf("day"));const o=n.plus({minutes:15*x}),i=n.plus({minutes:15*(R+1)});v.value=o.toFormat("HH:mm"),a.value=o.toFormat("yyyy-MM-dd"),z.value=i.toFormat("HH:mm"),h.value=i.toFormat("yyyy-MM-dd"),document.querySelector('input[name="end-type"][value="endtime"]').checked=!0,$(),p()}w.addEventListener("mousedown",e=>{const t=e.target.closest("tr");t&&(N=!0,T=parseInt(t.dataset.index,10),A=T,oe())}),w.addEventListener("mouseover",e=>{if(!N)return;const t=e.target.closest("tr");t&&(A=parseInt(t.dataset.index,10),oe())}),document.addEventListener("mouseup",()=>{N&&(N=!1,he(),T=A=null)});function Te(){const e=`tz-${Date.now()}`,t=document.createElement("div");t.className="field-group additional-timezone",t.innerHTML=`
      <div class="timezone-header">
        <label>Additional Time Zone</label>
        <button type="button" class="remove-timezone" data-timezone="${e}">×</button>
      </div>
      <input type="text" class="timezone-search" placeholder="Search timezone..." />
      <select class="timezone-select" id="${e}" size="5"></select>
      <div class="tz-selected-feedback"></div>
    `;const n=t.querySelector(".timezone-select");S.forEach(d=>{const c=document.createElement("option");c.value=d,c.textContent=D(d),c.setAttribute("data-search",`${d.toLowerCase()} ${d.replace(/_/g," ").toLowerCase()}`),n.appendChild(c)});const o=t.querySelector(".timezone-search"),i=t.querySelector(".remove-timezone"),l=t.querySelector(".tz-selected-feedback");o.addEventListener("input",d=>{Ae(d.target.value,n);const c=Array.from(n.options).find(E=>E.style.display!=="none");c&&(n.value=c.value,l.textContent=`Selected: ${c.textContent}`,p())}),i.addEventListener("click",()=>{t.remove(),p()}),n.addEventListener("change",()=>{const d=n.options[n.selectedIndex];d&&(l.textContent=`Selected: ${d.textContent}`,p())}),re.appendChild(t),p()}function Ae(e,t){const n=t.options;e=e.toLowerCase().replace(/ /g,"_");for(let o=0;o<n.length;o++){const i=n[o],l=i.getAttribute("data-search"),d=i.textContent.toLowerCase(),c=l.includes(e.replace(/_/g," "))||l.includes(e)||d.includes(e.replace(/_/g," "))||d.includes(e);i.style.display=c?"":"none"}}ue.addEventListener("click",Te)})();
//# sourceMappingURL=index-fad438a7.js.map
